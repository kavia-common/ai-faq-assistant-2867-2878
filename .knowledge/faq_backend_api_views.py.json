{"is_source_file": true, "format": "Python", "description": "This file contains Django REST Framework views and API endpoints for an AI FAQ backend, including authentication, question answering with RAG, knowledge base search, and management.", "external_files": ["django.contrib.auth", "django.views.decorators.csrf", "rest_framework", "rest_framework_simplejwt.tokens", "drf_yasg.utils", "drf_yasg", ".models", ".serializers", ".services"], "external_methods": ["authenticate", "csrf_exempt", "permissions.AllowAny", "status", "viewsets.ModelViewSet", "api_view", "permission_classes", "action", "Response", "APIView", "RefreshToken.for_user", "swagger_auto_schema", "openapi.Response", "openapi.Schema", "openapi.Parameter"], "published": ["health", "AuthView", "AskView", "SearchView", "KnowledgeBaseViewSet"], "classes": [{"name": "AuthView", "description": "API view for user authentication, returning JWT tokens"}, {"name": "AskView", "description": "API view for handling user questions using RAG pipeline"}, {"name": "SearchView", "description": "API view for searching the knowledge base"}, {"name": "KnowledgeBaseViewSet", "description": "ViewSet for CRUD operations on knowledge base entries, with index refresh"}], "methods": [{"name": "health(request)", "description": "Health check endpoint indicating server status", "scope": "", "scopeKind": ""}, {"name": "post (AuthView)", "description": "Authenticates a user, returns JWT tokens"}, {"name": "post (AskView)", "description": "Processes a question, uses RAG to generate answer, logs query"}, {"name": "get (SearchView)", "description": "Searches knowledge base for entries matching the query"}, {"name": "refresh_index (KnowledgeBaseViewSet)", "description": "Rebuilds the RAG index from knowledge base"}, {"name": "get(self, request)", "scope": "SearchView", "scopeKind": "class", "description": "unavailable"}, {"name": "get_permissions(self)", "scope": "KnowledgeBaseViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "post(self, request)", "scope": "AuthView", "scopeKind": "class", "description": "unavailable"}, {"name": "refresh_index(self, request)", "scope": "KnowledgeBaseViewSet", "scopeKind": "class", "description": "unavailable"}], "calls": ["authenticate", "rag_service.ask", "QueryLog.objects.create", "KnowledgeBaseEntry.objects.filter", "KnowledgeBaseEntrySerializer"], "search-terms": ["DRF API views", "JWT auth", "RAG question answering", "knowledge base search", "index refresh", "django views", "swagger auto schema"], "state": 2, "file_id": 16, "knowledge_revision": 43, "git_revision": "8475c138a41e82a83668675b5508c74b66dba768", "revision_history": [{"34": "8475c138a41e82a83668675b5508c74b66dba768"}, {"43": "8475c138a41e82a83668675b5508c74b66dba768"}], "ctags": [{"_type": "tag", "name": "AskView", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^class AskView(APIView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AuthView", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^class AuthView(APIView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "KnowledgeBaseViewSet", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^class KnowledgeBaseViewSet(viewsets.ModelViewSet):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SearchView", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^class SearchView(APIView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    def get(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "SearchView", "scopeKind": "class"}, {"_type": "tag", "name": "get_permissions", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    def get_permissions(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "KnowledgeBaseViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^def health(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    permission_classes = [permissions.AllowAny]$/", "language": "Python", "kind": "variable", "scope": "AskView", "scopeKind": "class"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    permission_classes = [permissions.AllowAny]$/", "language": "Python", "kind": "variable", "scope": "AuthView", "scopeKind": "class"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    permission_classes = [permissions.AllowAny]$/", "language": "Python", "kind": "variable", "scope": "SearchView", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    def post(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "AskView", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    def post(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "AuthView", "scopeKind": "class"}, {"_type": "tag", "name": "queryset", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    queryset = KnowledgeBaseEntry.objects.all().order_by('-updated_at')$/", "language": "Python", "kind": "variable", "scope": "KnowledgeBaseViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "refresh_index", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    def refresh_index(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "KnowledgeBaseViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "serializer_class", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    serializer_class = KnowledgeBaseEntrySerializer$/", "language": "Python", "kind": "variable", "scope": "KnowledgeBaseViewSet", "scopeKind": "class"}], "hash": "acf699f395a675b94750db3bd18ef68e", "format-version": 4, "code-base-name": "faq_backend", "filename": "faq_backend/api/views.py", "fields": [{"name": "permission_classes = [permissions.AllowAny]", "scope": "AskView", "scopeKind": "class", "description": "unavailable"}, {"name": "queryset = KnowledgeBaseEntry.objects.all().order_by('-updated_at')", "scope": "KnowledgeBaseViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "serializer_class = KnowledgeBaseEntrySerializer", "scope": "KnowledgeBaseViewSet", "scopeKind": "class", "description": "unavailable"}]}