{"is_source_file": true, "format": "Python", "description": "This file contains Django REST Framework views and endpoints for an AI FAQ backend, including health check, user authentication with JWT, question answering via RAG pipeline, knowledge base search and management.", "external_files": ["django.contrib.auth", "django.db.models", "rest_framework.permissions", "rest_framework.status", "rest_framework.viewsets", "rest_framework.decorators", "rest_framework.response", "rest_framework.views", "rest_framework_simplejwt.tokens", "drf_yasg.utils", "drf_yasg.openapi", ".models", ".serializers", ".services"], "external_methods": ["authenticate", "RefreshToken.for_user", "models.Q"], "published": ["health", "AuthView", "AskView", "SearchView", "KnowledgeBaseViewSet"], "classes": [{"name": "AuthView", "description": "API view for authenticating users and issuing JWT tokens."}, {"name": "AskView", "description": "API view for handling user questions and querying the RAG service."}, {"name": "SearchView", "description": "API view for searching knowledge base entries."}, {"name": "KnowledgeBaseViewSet", "description": "ModelViewSet for CRUD operations on knowledge base entries, with custom action for index refresh."}], "methods": [{"name": "health(request)", "description": "Health check endpoint, returns server status.", "scope": "", "scopeKind": ""}, {"name": "get(self, request)", "scope": "SearchView", "scopeKind": "class", "description": "unavailable"}, {"name": "get_permissions(self)", "scope": "KnowledgeBaseViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "post(self, request)", "scope": "AuthView", "scopeKind": "class", "description": "unavailable"}, {"name": "refresh_index(self, request)", "scope": "KnowledgeBaseViewSet", "scopeKind": "class", "description": "unavailable"}], "calls": ["authenticate", "RefreshToken.for_user", "rag_service.ask", "QueryLog.objects.create", "KnowledgeBaseEntry.objects.filter", "KnowledgeBaseEntrySerializer", "rag_service.refresh_index"], "search-terms": ["Django REST Framework", "JWT authentication", "health check endpoint", "question answering", "knowledge base search", "vector index refresh", "API views", "ModelViewSet"], "state": 2, "file_id": 16, "knowledge_revision": 56, "git_revision": "cf3013cbb5fbc991f3f53824bf0bf0a638d21827", "revision_history": [{"34": "8475c138a41e82a83668675b5508c74b66dba768"}, {"43": "8475c138a41e82a83668675b5508c74b66dba768"}, {"56": "cf3013cbb5fbc991f3f53824bf0bf0a638d21827"}], "ctags": [{"_type": "tag", "name": "AskView", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^class AskView(APIView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AuthView", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^class AuthView(APIView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "KnowledgeBaseViewSet", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^class KnowledgeBaseViewSet(viewsets.ModelViewSet):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SearchView", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^class SearchView(APIView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    def get(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "SearchView", "scopeKind": "class"}, {"_type": "tag", "name": "get_permissions", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    def get_permissions(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "KnowledgeBaseViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^def health(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    permission_classes = [permissions.AllowAny]$/", "language": "Python", "kind": "variable", "scope": "AskView", "scopeKind": "class"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    permission_classes = [permissions.AllowAny]$/", "language": "Python", "kind": "variable", "scope": "AuthView", "scopeKind": "class"}, {"_type": "tag", "name": "permission_classes", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    permission_classes = [permissions.AllowAny]$/", "language": "Python", "kind": "variable", "scope": "SearchView", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    def post(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "AskView", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    def post(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "AuthView", "scopeKind": "class"}, {"_type": "tag", "name": "queryset", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    queryset = KnowledgeBaseEntry.objects.all().order_by('-updated_at')$/", "language": "Python", "kind": "variable", "scope": "KnowledgeBaseViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "refresh_index", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    def refresh_index(self, request):$/", "language": "Python", "kind": "member", "signature": "(self, request)", "scope": "KnowledgeBaseViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "serializer_class", "path": "/home/kavia/workspace/code-generation/ai-faq-assistant-2867-2878/faq_backend/api/views.py", "pattern": "/^    serializer_class = KnowledgeBaseEntrySerializer$/", "language": "Python", "kind": "variable", "scope": "KnowledgeBaseViewSet", "scopeKind": "class"}], "hash": "01c4828faf87246a5606e2461e670de4", "format-version": 4, "code-base-name": "faq_backend", "filename": "faq_backend/api/views.py", "fields": [{"name": "permission_classes = [permissions.AllowAny]", "scope": "AskView", "scopeKind": "class", "description": "unavailable"}, {"name": "queryset = KnowledgeBaseEntry.objects.all().order_by('-updated_at')", "scope": "KnowledgeBaseViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "serializer_class = KnowledgeBaseEntrySerializer", "scope": "KnowledgeBaseViewSet", "scopeKind": "class", "description": "unavailable"}]}